{"ast":null,"code":"import _slicedToArray from\"C:/workspace/ws-sts/ulasoftware-metas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Footer from'../../components/Footer';import NavBarRota from'../../components/NavBarRota';import BarChartRotaFamilia from'../../components/BarChatRotaFamilia';import BarChartRota from'../../components/BarChatRota';import DonutChart2 from'components/DonutChart2';import{getTokenData,isAuthenticated}from'utils/auth';import{useEffect,useState}from'react';import DonutChart3 from'components/DonutChart3';import axios from'axios';import{BASE_URL}from'utils/request';import{getAuthData}from'utils/storage';import MetaDaRota from'components/Metas/MetaDaRota';import Metas from'components/Metas';import{formatPrice}from'utils/format';import'./styles.css';import DataCalc from\"./../../components/DataCalc\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Rotas=function Rotas(){var _authData$tokenData;var _useState=useState({authenticated:false}),_useState2=_slicedToArray(_useState,2),authData=_useState2[0],setAuthData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),venda=_useState4[0],setVenda=_useState4[1];useEffect(function(){if(isAuthenticated()){var _getTokenData;setAuthData({authenticated:true,tokenData:getTokenData()});axios.get(\"\".concat(BASE_URL,\"/vendas/total-vendas-rota?rota=\").concat((_getTokenData=getTokenData())===null||_getTokenData===void 0?void 0:_getTokenData.user_name),{headers:{Authorization:\"Bearer \"+getAuthData().access_token}}).then(function(response){setVenda(response.data);});}else{setAuthData({authenticated:false});};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBarRota,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"div-rota container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-secondary py-3 border-bottom\",children:[\"Resumo do Vendedor \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:(_authData$tokenData=authData.tokenData)===null||_authData$tokenData===void 0?void 0:_authData$tokenData.user_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center text-secondary\",children:\"Volume por Familia\"}),/*#__PURE__*/_jsx(BarChartRotaFamilia,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center text-secondary\",children:\"Faturado por Familia\"}),/*#__PURE__*/_jsx(BarChartRota,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center text-secondary\",children:\"Volume por embalagem\"}),/*#__PURE__*/_jsx(DonutChart2,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-center text-secondary\",children:\"Faturado por embalagem\"}),/*#__PURE__*/_jsx(DonutChart3,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container text-primary text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-secondary\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"m-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nota:\"}),\" Os numeros aqui mostrados s\\xE3o referentes a 1(um) dia anterior ao m\\xEAs atual do ano corrente.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"accordion\",children:venda===null||venda===void 0?void 0:venda.content.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"card m-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-header bg-light text-primary text-uppercase\",children:\"Total faturado\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"m-3\",children:[formatPrice(item.totalvenda),\" \"]})]},item.rota);})}),/*#__PURE__*/_jsx(MetaDaRota,{}),/*#__PURE__*/_jsx(DataCalc,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary\",children:/*#__PURE__*/_jsx(Metas,{})})]})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Rotas;","map":{"version":3,"sources":["C:/workspace/ws-sts/ulasoftware-metas/frontend/src/pages/Rotas/index.tsx"],"names":["Footer","NavBarRota","BarChartRotaFamilia","BarChartRota","DonutChart2","getTokenData","isAuthenticated","useEffect","useState","DonutChart3","axios","BASE_URL","getAuthData","MetaDaRota","Metas","formatPrice","DataCalc","Rotas","authenticated","authData","setAuthData","venda","setVenda","tokenData","get","user_name","headers","Authorization","access_token","then","response","data","content","map","item","totalvenda","rota"],"mappings":"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","sourcesContent":["import Footer from '../../components/Footer';\r\nimport NavBarRota from '../../components/NavBarRota';\r\nimport BarChartRotaFamilia from '../../components/BarChatRotaFamilia';\r\nimport BarChartRota from '../../components/BarChatRota';\r\nimport DonutChart2 from 'components/DonutChart2';\r\nimport { getTokenData, isAuthenticated, Tokendata } from 'utils/auth';\r\nimport { useEffect, useState } from 'react';\r\nimport DonutChart3 from 'components/DonutChart3';\r\nimport axios from 'axios';\r\nimport { BASE_URL } from 'utils/request';\r\nimport { getAuthData } from 'utils/storage';\r\nimport { VendaTotalPorRota } from 'types/sales';\r\nimport MetaDaRota from 'components/Metas/MetaDaRota';\r\nimport Metas from 'components/Metas';\r\nimport { springPage } from 'types/vendor/springPage';\r\nimport { formatPrice } from 'utils/format';\r\nimport './styles.css'\r\n\r\nimport DataCalc from \"./../../components/DataCalc\";\r\n\r\ntype AuthData = {\r\n  authenticated: boolean,\r\n  tokenData?: Tokendata\r\n}\r\n\r\nconst Rotas = () => {\r\n  const [authData, setAuthData] = useState<AuthData>({ authenticated: false });\r\n  const [venda, setVenda] = useState<springPage<VendaTotalPorRota>>();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated()) {\r\n\r\n      setAuthData({\r\n        authenticated: true,\r\n        tokenData: getTokenData()\r\n      });\r\n\r\n      axios.get(`${BASE_URL}/vendas/total-vendas-rota?rota=${getTokenData()?.user_name}`,\r\n        { headers: { Authorization: \"Bearer \" + getAuthData().access_token } })\r\n        .then((response) => {\r\n          setVenda(response.data);\r\n        })\r\n    } else {\r\n      setAuthData({\r\n        authenticated: false\r\n      });\r\n    };\r\n  }, []);\r\n  return (\r\n    <>\r\n      <NavBarRota />\r\n      <div className='div-rota container'>\r\n        <h1 className='text-secondary py-3 border-bottom'>Resumo do Vendedor <span className='text-primary'>{authData.tokenData?.user_name}</span></h1>\r\n        <div className='row '>\r\n          <div className='col-sm-6'>\r\n            <h5 className='text-center text-secondary'>Volume por Familia</h5>\r\n            <BarChartRotaFamilia />\r\n          </div>\r\n          <div className='col-sm-6'>\r\n            <h5 className='text-center text-secondary'>Faturado por Familia</h5>\r\n            <BarChartRota />\r\n          </div>\r\n          <div className='col-sm-6'>\r\n            <h5 className='text-center text-secondary'>Volume por embalagem</h5>\r\n            <DonutChart2 />\r\n          </div>\r\n          <div className='col-sm-6'>\r\n            <h5 className='text-center text-secondary'>Faturado por embalagem</h5>\r\n            <DonutChart3 />\r\n          </div>\r\n        </div>\r\n        {/*///////////////////CONTAINER RESUMO DE VALORES/////////////*/}\r\n        <div className=''>\r\n          <div className='container text-primary text-center'>\r\n            {/*////////////////////TOTAL VENDAS//////////////////////*/}\r\n\r\n            <div className=\"card-body text-secondary\">\r\n              <p className=\"m-3\"><strong>Nota:</strong> Os numeros aqui mostrados são referentes a 1(um) dia anterior ao mês atual do ano corrente.</p>\r\n              <div className=\"d-flex flex-wrap justify-content-center\">\r\n\r\n                <div id=\"accordion\">\r\n                  {venda?.content.map(item =>\r\n                    <div key={item.rota} className=\"card m-3\">\r\n                      <h5 className=\"card-header bg-light text-primary text-uppercase\">Total faturado</h5>\r\n                      <h3 className=\"m-3\">{formatPrice(item.totalvenda)} </h3>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <MetaDaRota />\r\n                <DataCalc />\r\n              </div>\r\n            </div>\r\n            <div className=\"text-secondary\">\r\n              <Metas />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <DataTable3 />*/}\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\nexport default Rotas;\r\n\r\n"]},"metadata":{},"sourceType":"module"}