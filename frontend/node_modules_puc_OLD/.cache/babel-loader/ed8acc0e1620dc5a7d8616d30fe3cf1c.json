{"ast":null,"code":"import history from './history';\nconst tokenKey = 'authData';\nexport const saveAuthData = obj => {\n  localStorage.setItem(tokenKey, JSON.stringify(obj));\n};\nexport const getAuthData = () => {\n  var _localStorage$getItem;\n\n  const str = (_localStorage$getItem = localStorage.getItem(tokenKey)) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : '{}';\n  return JSON.parse(str);\n}; // REMOVER DADOS DE LOGIN DO LOCALSTORAGE\n\nexport const removeAuthData = () => {\n  localStorage.removeItem('authData');\n  history.replace('/auth/login');\n};","map":{"version":3,"sources":["C:/workspace/ws-sts/metas-ulasoftware-puc/frontend/src/utils/storage.ts"],"names":["history","tokenKey","saveAuthData","obj","localStorage","setItem","JSON","stringify","getAuthData","str","getItem","parse","removeAuthData","removeItem","replace"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAWA,MAAMC,QAAQ,GAAG,UAAjB;AAEA,OAAO,MAAMC,YAAY,GAAIC,GAAD,IAAwB;AAChDC,EAAAA,YAAY,CAACC,OAAb,CAAqBJ,QAArB,EAA+BK,IAAI,CAACC,SAAL,CAAeJ,GAAf,CAA/B;AACH,CAFM;AAIP,OAAO,MAAMK,WAAW,GAAG,MAAM;AAAA;;AAC7B,QAAMC,GAAG,4BAAGL,YAAY,CAACM,OAAb,CAAqBT,QAArB,CAAH,yEAAqC,IAA9C;AACA,SAAOK,IAAI,CAACK,KAAL,CAAWF,GAAX,CAAP;AACH,CAHM,C,CAIP;;AACA,OAAO,MAAMG,cAAc,GAAG,MAAM;AAChCR,EAAAA,YAAY,CAACS,UAAb,CAAwB,UAAxB;AACAb,EAAAA,OAAO,CAACc,OAAR,CAAgB,aAAhB;AACH,CAHM","sourcesContent":["import history from './history';\r\n\r\ntype LoginResponse = {\r\n    access_token: string;\r\n    token_type: string;\r\n    expires_in: Number;\r\n    scope: string;\r\n    userName: string;\r\n    userId: Number;\r\n}\r\n\r\nconst tokenKey = 'authData';\r\n\r\nexport const saveAuthData = (obj: LoginResponse) => {\r\n    localStorage.setItem(tokenKey, JSON.stringify(obj));\r\n}\r\n\r\nexport const getAuthData = () => {\r\n    const str = localStorage.getItem(tokenKey) ?? '{}';\r\n    return JSON.parse(str) as LoginResponse;\r\n}\r\n// REMOVER DADOS DE LOGIN DO LOCALSTORAGE\r\nexport const removeAuthData = () => {\r\n    localStorage.removeItem('authData')\r\n    history.replace('/auth/login')\r\n}"]},"metadata":{},"sourceType":"module"}