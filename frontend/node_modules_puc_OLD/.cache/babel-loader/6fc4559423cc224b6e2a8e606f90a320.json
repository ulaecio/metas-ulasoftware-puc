{"ast":null,"code":"import _objectSpread from\"C:/workspace/ws-sts/ulasoftware-metas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/workspace/ws-sts/ulasoftware-metas/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import Chart from'react-apexcharts';import{requestBackend,BASE_URL}from'utils/request';import{jsx as _jsx}from\"react/jsx-runtime\";var DonutChart=function DonutChart(){//DADOS DINAMICOS\nvar _useState=useState({labels:[],series:[]}),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];useEffect(function(){requestBackend({url:\"\".concat(BASE_URL,\"/vendas/volume-vendas-setor\"),withCredentials:true}).then(function(response){var data=response.data;var myLabels=data.map(function(x){return x.setor;});var mySeries=data.map(function(x){return x.total_venda;});setChartData({labels:myLabels,series:mySeries});});},[]);var options={legend:{show:true}};return/*#__PURE__*/ (// @ts-ignore\n_jsx(Chart,{options:_objectSpread(_objectSpread({},options),{},{labels:chartData.labels}),series:chartData.series,type:\"donut\",height:\"240\"}));};export default DonutChart;","map":{"version":3,"sources":["C:/workspace/ws-sts/ulasoftware-metas/frontend/src/components/DonutChart/index.tsx"],"names":["useState","useEffect","Chart","requestBackend","BASE_URL","DonutChart","labels","series","chartData","setChartData","url","withCredentials","then","response","data","myLabels","map","x","setor","mySeries","total_venda","options","legend","show"],"mappings":"yUAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CAEA,OAASC,cAAT,CAAyBC,QAAzB,KAAyC,eAAzC,C,2CAOA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACzB;AADyB,cAEaL,QAAQ,CAAY,CAAEM,MAAM,CAAE,EAAV,CAAcC,MAAM,CAAE,EAAtB,CAAZ,CAFrB,wCAEdC,SAFc,eAEHC,YAFG,eAIrBR,SAAS,CAAC,UAAM,CACZE,cAAc,CAAC,CACXO,GAAG,WACIN,QADJ,+BADQ,CAGXO,eAAe,CAAE,IAHN,CAAD,CAAd,CAKKC,IALL,CAKU,SAACC,QAAD,CAAc,CAChB,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACC,IAAtB,CACA,GAAMC,CAAAA,QAAQ,CAAGD,IAAI,CAACE,GAAL,CAAS,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,KAAN,EAAV,CAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAGL,IAAI,CAACE,GAAL,CAAS,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACG,WAAN,EAAV,CAAjB,CAEAX,YAAY,CAAC,CAAEH,MAAM,CAAES,QAAV,CAAoBR,MAAM,CAAEY,QAA5B,CAAD,CAAZ,CACH,CAXL,EAYH,CAbQ,CAaN,EAbM,CAAT,CAeA,GAAME,CAAAA,OAAO,CAAG,CACZC,MAAM,CAAE,CACJC,IAAI,CAAE,IADF,CADI,CAAhB,CAMA,oBACI;AACA,KAAC,KAAD,EACI,OAAO,gCAAOF,OAAP,MAAgBf,MAAM,CAAEE,SAAS,CAACF,MAAlC,EADX,CAEI,MAAM,CAAEE,SAAS,CAACD,MAFtB,CAGI,IAAI,CAAC,OAHT,CAII,MAAM,CAAC,KAJX,EAFJ,EASH,CAlCD,CAoCA,cAAeF,CAAAA,UAAf","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Chart from 'react-apexcharts';\r\nimport { vendasPorSetor } from 'types/sales';\r\nimport { requestBackend, BASE_URL } from 'utils/request';\r\n\r\ntype ChartData = {\r\n    labels: string[];\r\n    series: number[];\r\n}\r\n\r\nconst DonutChart = () => {\r\n//DADOS DINAMICOS\r\n    const [chartData, setChartData] = useState<ChartData>({ labels: [], series: [] });\r\n\r\n    useEffect(() => {\r\n        requestBackend({\r\n            url:\r\n                `${BASE_URL}/vendas/volume-vendas-setor`,\r\n            withCredentials: true\r\n        })\r\n            .then((response) => {\r\n                const data = response.data as vendasPorSetor[];\r\n                const myLabels = data.map(x => x.setor)\r\n                const mySeries = data.map(x => x.total_venda);\r\n\r\n                setChartData({ labels: myLabels, series: mySeries });\r\n            })\r\n    }, []);\r\n\r\n    const options = {\r\n        legend: {\r\n            show: true\r\n        }\r\n    }\r\n\r\n    return (\r\n        // @ts-ignore\r\n        <Chart\r\n            options={{ ...options, labels: chartData.labels }}\r\n            series={chartData.series}\r\n            type='donut'\r\n            height='240'\r\n        />\r\n    );\r\n}\r\n\r\nexport default DonutChart;"]},"metadata":{},"sourceType":"module"}